---
read_when:
  - ä½ éœ€è¦çŸ¥é“å“ªäº›çŽ¯å¢ƒå˜é‡è¢«åŠ è½½ï¼Œä»¥åŠåŠ è½½é¡ºåº
  - ä½ åœ¨è°ƒè¯• Gateway ç½‘å…³ä¸­ç¼ºå¤±çš„ API å¯†é’¥
  - ä½ åœ¨ç¼–å†™æä¾›å•†è®¤è¯æˆ–éƒ¨ç½²çŽ¯å¢ƒçš„æ–‡æ¡£
summary: KrabKrab ä»Žå“ªé‡ŒåŠ è½½çŽ¯å¢ƒå˜é‡ä»¥åŠä¼˜å…ˆçº§é¡ºåº
title: çŽ¯å¢ƒå˜é‡
x-i18n:
  generated_at: "2026-02-03T07:47:11Z"
  model: claude-opus-4-5
  provider: pi
  source_hash: b49ae50e5d306612f89f93a86236188a4f2ec23f667e2388b043832be3ac1546
  source_path: help/environment.md
  workflow: 15
---

# çŽ¯å¢ƒå˜é‡

KrabKrab ä»Žå¤šä¸ªæ¥æºæ‹‰å–çŽ¯å¢ƒå˜é‡ã€‚è§„åˆ™æ˜¯**æ°¸ä¸è¦†ç›–çŽ°æœ‰å€¼**ã€‚

## ä¼˜å…ˆçº§ï¼ˆä»Žé«˜åˆ°ä½Žï¼‰

1. **è¿›ç¨‹çŽ¯å¢ƒ**ï¼ˆGateway ç½‘å…³è¿›ç¨‹ä»Žçˆ¶ shell/å®ˆæŠ¤è¿›ç¨‹å·²æœ‰çš„å†…å®¹ï¼‰ã€‚
2. **å½“å‰å·¥ä½œç›®å½•ä¸­çš„ `.env`**ï¼ˆdotenv é»˜è®¤ï¼›ä¸è¦†ç›–ï¼‰ã€‚
3. **å…¨å±€ `.env`** ä½äºŽ `~/.krabkrab/.env`ï¼ˆå³ `$krabkrab_STATE_DIR/.env`ï¼›ä¸è¦†ç›–ï¼‰ã€‚
4. **é…ç½® `env` å—** ä½äºŽ `~/.krabkrab/krabkrab.json`ï¼ˆä»…åœ¨ç¼ºå¤±æ—¶åº”ç”¨ï¼‰ã€‚
5. **å¯é€‰çš„ç™»å½• shell å¯¼å…¥**ï¼ˆ`env.shellEnv.enabled` æˆ– `krabkrab_LOAD_SHELL_ENV=1`ï¼‰ï¼Œä»…å¯¹ç¼ºå¤±çš„é¢„æœŸé”®ååº”ç”¨ã€‚

å¦‚æžœé…ç½®æ–‡ä»¶å®Œå…¨ç¼ºå¤±ï¼Œæ­¥éª¤ 4 å°†è¢«è·³è¿‡ï¼›å¦‚æžœå¯ç”¨äº† shell å¯¼å…¥ï¼Œå®ƒä»ä¼šè¿è¡Œã€‚

## é…ç½® `env` å—

ä¸¤ç§ç­‰æ•ˆæ–¹å¼è®¾ç½®å†…è”çŽ¯å¢ƒå˜é‡ï¼ˆéƒ½æ˜¯éžè¦†ç›–çš„ï¼‰ï¼š

```json5
{
  env: {
    OPENROUTER_API_KEY: "sk-or-...",
    vars: {
      GROQ_API_KEY: "gsk-...",
    },
  },
}
```

## Shell çŽ¯å¢ƒå¯¼å…¥

`env.shellEnv` è¿è¡Œä½ çš„ç™»å½• shell å¹¶ä»…å¯¼å…¥**ç¼ºå¤±çš„**é¢„æœŸé”®åï¼š

```json5
{
  env: {
    shellEnv: {
      enabled: true,
      timeoutMs: 15000,
    },
  },
}
```

çŽ¯å¢ƒå˜é‡ç­‰æ•ˆé¡¹ï¼š

- `krabkrab_LOAD_SHELL_ENV=1`
- `krabkrab_SHELL_ENV_TIMEOUT_MS=15000`

## é…ç½®ä¸­çš„çŽ¯å¢ƒå˜é‡æ›¿æ¢

ä½ å¯ä»¥ä½¿ç”¨ `${VAR_NAME}` è¯­æ³•åœ¨é…ç½®å­—ç¬¦ä¸²å€¼ä¸­ç›´æŽ¥å¼•ç”¨çŽ¯å¢ƒå˜é‡ï¼š

```json5
{
  models: {
    providers: {
      "vercel-gateway": {
        apiKey: "${VERCEL_GATEWAY_API_KEY}",
      },
    },
  },
}
```

å®Œæ•´è¯¦æƒ…å‚è§[é…ç½®ï¼šçŽ¯å¢ƒå˜é‡æ›¿æ¢](/gateway/configuration#env-var-substitution-in-config)ã€‚

## ç›¸å…³å†…å®¹

- [Gateway ç½‘å…³é…ç½®](/gateway/configuration)
- [å¸¸è§é—®é¢˜ï¼šçŽ¯å¢ƒå˜é‡å’Œ .env åŠ è½½](/help/faq#env-vars-and-env-loading)
- [æ¨¡åž‹æ¦‚è¿°](/concepts/models)

