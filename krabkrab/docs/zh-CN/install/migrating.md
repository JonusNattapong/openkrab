---
read_when:
  - ä½ æ­£åœ¨å°† KrabKrab è¿ç§»åˆ°æ–°çš„ç¬”è®°æœ¬ç”µè„‘/æœåŠ¡å™¨
  - ä½ æƒ³ä¿ç•™ä¼šè¯ã€è®¤è¯å’Œæ¸ é“ç™»å½•ï¼ˆWhatsApp ç­‰ï¼‰
summary: å°† KrabKrab å®‰è£…ä»Žä¸€å°æœºå™¨è¿ç§»åˆ°å¦ä¸€å°
title: è¿ç§»æŒ‡å—
x-i18n:
  generated_at: "2026-02-03T07:49:55Z"
  model: claude-opus-4-5
  provider: pi
  source_hash: 604d862c4bf86e7924d09028db8cc2514ca6f1d64ebe8bb7d1e2dde57ef70caa
  source_path: install/migrating.md
  workflow: 15
---

# å°† KrabKrab è¿ç§»åˆ°æ–°æœºå™¨

æœ¬æŒ‡å—å°† KrabKrab Gateway ç½‘å…³ä»Žä¸€å°æœºå™¨è¿ç§»åˆ°å¦ä¸€å°ï¼Œ**æ— éœ€é‡æ–°è¿›è¡Œæ–°æ‰‹å¼•å¯¼**ã€‚

è¿ç§»åœ¨æ¦‚å¿µä¸Šå¾ˆç®€å•ï¼š

- å¤åˆ¶**çŠ¶æ€ç›®å½•**ï¼ˆ`$krabkrab_STATE_DIR`ï¼Œé»˜è®¤ï¼š`~/.krabkrab/`ï¼‰â€” è¿™åŒ…æ‹¬é…ç½®ã€è®¤è¯ã€ä¼šè¯å’Œæ¸ é“çŠ¶æ€ã€‚
- å¤åˆ¶ä½ çš„**å·¥ä½œåŒº**ï¼ˆé»˜è®¤ `~/.krabkrab/workspace/`ï¼‰â€” è¿™åŒ…æ‹¬ä½ çš„æ™ºèƒ½ä½“æ–‡ä»¶ï¼ˆè®°å¿†ã€æç¤ºç­‰ï¼‰ã€‚

ä½†åœ¨**é…ç½®æ–‡ä»¶**ã€**æƒé™**å’Œ**éƒ¨åˆ†å¤åˆ¶**æ–¹é¢æœ‰å¸¸è§çš„é™·é˜±ã€‚

## å¼€å§‹ä¹‹å‰ï¼ˆä½ è¦è¿ç§»ä»€ä¹ˆï¼‰

### 1ï¼‰ç¡®å®šä½ çš„çŠ¶æ€ç›®å½•

å¤§å¤šæ•°å®‰è£…ä½¿ç”¨é»˜è®¤å€¼ï¼š

- **çŠ¶æ€ç›®å½•ï¼š** `~/.krabkrab/`

ä½†å¦‚æžœä½ ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼Œå¯èƒ½ä¼šä¸åŒï¼š

- `--profile <name>`ï¼ˆé€šå¸¸å˜æˆ `~/.krabkrab-<profile>/`ï¼‰
- `krabkrab_STATE_DIR=/some/path`

å¦‚æžœä½ ä¸ç¡®å®šï¼Œåœ¨**æ—§**æœºå™¨ä¸Šè¿è¡Œï¼š

```bash
krabkrab status
```

åœ¨è¾“å‡ºä¸­æŸ¥æ‰¾ `krabkrab_STATE_DIR` / profile çš„æåŠã€‚å¦‚æžœä½ è¿è¡Œå¤šä¸ª Gateway ç½‘å…³ï¼Œå¯¹æ¯ä¸ªé…ç½®æ–‡ä»¶é‡å¤æ­¤æ“ä½œã€‚

### 2ï¼‰ç¡®å®šä½ çš„å·¥ä½œåŒº

å¸¸è§é»˜è®¤å€¼ï¼š

- `~/.krabkrab/workspace/`ï¼ˆæŽ¨èçš„å·¥ä½œåŒºï¼‰
- ä½ åˆ›å»ºçš„è‡ªå®šä¹‰æ–‡ä»¶å¤¹

ä½ çš„å·¥ä½œåŒºæ˜¯ `MEMORY.md`ã€`USER.md` å’Œ `memory/*.md` ç­‰æ–‡ä»¶æ‰€åœ¨çš„ä½ç½®ã€‚

### 3ï¼‰äº†è§£ä½ å°†ä¿ç•™ä»€ä¹ˆ

å¦‚æžœä½ å¤åˆ¶**ä¸¤è€…**â€”â€”çŠ¶æ€ç›®å½•å’Œå·¥ä½œåŒºï¼Œä½ å°†ä¿ç•™ï¼š

- Gateway ç½‘å…³é…ç½®ï¼ˆ`krabkrab.json`ï¼‰
- è®¤è¯é…ç½®æ–‡ä»¶ / API å¯†é’¥ / OAuth ä»¤ç‰Œ
- ä¼šè¯åŽ†å² + æ™ºèƒ½ä½“çŠ¶æ€
- æ¸ é“çŠ¶æ€ï¼ˆä¾‹å¦‚ WhatsApp ç™»å½•/ä¼šè¯ï¼‰
- ä½ çš„å·¥ä½œåŒºæ–‡ä»¶ï¼ˆè®°å¿†ã€Skills ç¬”è®°ç­‰ï¼‰

å¦‚æžœä½ **åª**å¤åˆ¶å·¥ä½œåŒºï¼ˆä¾‹å¦‚é€šè¿‡ Gitï¼‰ï¼Œä½ **ä¸ä¼š**ä¿ç•™ï¼š

- ä¼šè¯
- å‡­è¯
- æ¸ é“ç™»å½•

è¿™äº›å­˜å‚¨åœ¨ `$krabkrab_STATE_DIR` ä¸‹ã€‚

## è¿ç§»æ­¥éª¤ï¼ˆæŽ¨èï¼‰

### æ­¥éª¤ 0 â€” å¤‡ä»½ï¼ˆæ—§æœºå™¨ï¼‰

åœ¨**æ—§**æœºå™¨ä¸Šï¼Œé¦–å…ˆåœæ­¢ Gateway ç½‘å…³ï¼Œè¿™æ ·æ–‡ä»¶ä¸ä¼šåœ¨å¤åˆ¶è¿‡ç¨‹ä¸­å‘ç”Ÿå˜åŒ–ï¼š

```bash
krabkrab gateway stop
```

ï¼ˆå¯é€‰ä½†æŽ¨èï¼‰å½’æ¡£çŠ¶æ€ç›®å½•å’Œå·¥ä½œåŒºï¼š

```bash
# å¦‚æžœä½ ä½¿ç”¨é…ç½®æ–‡ä»¶æˆ–è‡ªå®šä¹‰ä½ç½®ï¼Œè¯·è°ƒæ•´è·¯å¾„
cd ~
tar -czf krabkrab-state.tgz .krabkrab

tar -czf krabkrab-workspace.tgz .krabkrab/workspace
```

å¦‚æžœä½ æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶/çŠ¶æ€ç›®å½•ï¼ˆä¾‹å¦‚ `~/.krabkrab-main`ã€`~/.krabkrab-work`ï¼‰ï¼Œåˆ†åˆ«å½’æ¡£æ¯ä¸ªã€‚

### æ­¥éª¤ 1 â€” åœ¨æ–°æœºå™¨ä¸Šå®‰è£… KrabKrab

åœ¨**æ–°**æœºå™¨ä¸Šï¼Œå®‰è£… CLIï¼ˆå¦‚æžœéœ€è¦è¿˜æœ‰ Nodeï¼‰ï¼š

- å‚è§ï¼š[å®‰è£…](/install)

åœ¨è¿™ä¸ªé˜¶æ®µï¼Œå¦‚æžœæ–°æ‰‹å¼•å¯¼åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ `~/.krabkrab/` ä¹Ÿæ²¡å…³ç³» â€” ä½ å°†åœ¨ä¸‹ä¸€æ­¥è¦†ç›–å®ƒã€‚

### æ­¥éª¤ 2 â€” å°†çŠ¶æ€ç›®å½• + å·¥ä½œåŒºå¤åˆ¶åˆ°æ–°æœºå™¨

å¤åˆ¶**ä¸¤è€…**ï¼š

- `$krabkrab_STATE_DIR`ï¼ˆé»˜è®¤ `~/.krabkrab/`ï¼‰
- ä½ çš„å·¥ä½œåŒºï¼ˆé»˜è®¤ `~/.krabkrab/workspace/`ï¼‰

å¸¸è§æ–¹æ³•ï¼š

- `scp` åŽ‹ç¼©åŒ…å¹¶è§£åŽ‹
- é€šè¿‡ SSH ä½¿ç”¨ `rsync -a`
- å¤–éƒ¨é©±åŠ¨å™¨

å¤åˆ¶åŽï¼Œç¡®ä¿ï¼š

- åŒ…å«äº†éšè—ç›®å½•ï¼ˆä¾‹å¦‚ `.krabkrab/`ï¼‰
- æ–‡ä»¶æ‰€æœ‰æƒå¯¹äºŽè¿è¡Œ Gateway ç½‘å…³çš„ç”¨æˆ·æ˜¯æ­£ç¡®çš„

### æ­¥éª¤ 3 â€” è¿è¡Œ Doctorï¼ˆè¿ç§» + æœåŠ¡ä¿®å¤ï¼‰

åœ¨**æ–°**æœºå™¨ä¸Šï¼š

```bash
krabkrab doctor
```

Doctor æ˜¯"å®‰å…¨å¯é "çš„å‘½ä»¤ã€‚å®ƒä¿®å¤æœåŠ¡ã€åº”ç”¨é…ç½®è¿ç§»ï¼Œå¹¶è­¦å‘Šä¸åŒ¹é…é—®é¢˜ã€‚

ç„¶åŽï¼š

```bash
krabkrab gateway restart
krabkrab status
```

## å¸¸è§é™·é˜±ï¼ˆä»¥åŠå¦‚ä½•é¿å…ï¼‰

### é™·é˜±ï¼šé…ç½®æ–‡ä»¶/çŠ¶æ€ç›®å½•ä¸åŒ¹é…

å¦‚æžœä½ åœ¨æ—§ Gateway ç½‘å…³ä¸Šä½¿ç”¨äº†é…ç½®æ–‡ä»¶ï¼ˆæˆ– `krabkrab_STATE_DIR`ï¼‰ï¼Œè€Œæ–° Gateway ç½‘å…³ä½¿ç”¨äº†ä¸åŒçš„é…ç½®ï¼Œä½ ä¼šçœ‹åˆ°å¦‚ä¸‹ç—‡çŠ¶ï¼š

- é…ç½®æ›´æ”¹ä¸ç”Ÿæ•ˆ
- æ¸ é“ä¸¢å¤±/å·²ç™»å‡º
- ä¼šè¯åŽ†å²ä¸ºç©º

ä¿®å¤ï¼šä½¿ç”¨ä½ è¿ç§»çš„**ç›¸åŒ**é…ç½®æ–‡ä»¶/çŠ¶æ€ç›®å½•è¿è¡Œ Gateway ç½‘å…³/æœåŠ¡ï¼Œç„¶åŽé‡æ–°è¿è¡Œï¼š

```bash
krabkrab doctor
```

### é™·é˜±ï¼šåªå¤åˆ¶ `krabkrab.json`

`krabkrab.json` æ˜¯ä¸å¤Ÿçš„ã€‚è®¸å¤šæä¾›å•†åœ¨ä»¥ä¸‹ä½ç½®å­˜å‚¨çŠ¶æ€ï¼š

- `$krabkrab_STATE_DIR/credentials/`
- `$krabkrab_STATE_DIR/agents/<agentId>/...`

å§‹ç»ˆè¿ç§»æ•´ä¸ª `$krabkrab_STATE_DIR` æ–‡ä»¶å¤¹ã€‚

### é™·é˜±ï¼šæƒé™/æ‰€æœ‰æƒ

å¦‚æžœä½ ä»¥ root èº«ä»½å¤åˆ¶æˆ–æ›´æ”¹äº†ç”¨æˆ·ï¼ŒGateway ç½‘å…³å¯èƒ½æ— æ³•è¯»å–å‡­è¯/ä¼šè¯ã€‚

ä¿®å¤ï¼šç¡®ä¿çŠ¶æ€ç›®å½• + å·¥ä½œåŒºç”±è¿è¡Œ Gateway ç½‘å…³çš„ç”¨æˆ·æ‹¥æœ‰ã€‚

### é™·é˜±ï¼šåœ¨è¿œç¨‹/æœ¬åœ°æ¨¡å¼ä¹‹é—´è¿ç§»

- å¦‚æžœä½ çš„ UIï¼ˆWebUI/TUIï¼‰æŒ‡å‘**è¿œç¨‹** Gateway ç½‘å…³ï¼Œè¿œç¨‹ä¸»æœºæ‹¥æœ‰ä¼šè¯å­˜å‚¨ + å·¥ä½œåŒºã€‚
- è¿ç§»ä½ çš„ç¬”è®°æœ¬ç”µè„‘ä¸ä¼šç§»åŠ¨è¿œç¨‹ Gateway ç½‘å…³çš„çŠ¶æ€ã€‚

å¦‚æžœä½ å¤„äºŽè¿œç¨‹æ¨¡å¼ï¼Œè¯·è¿ç§» **Gateway ç½‘å…³ä¸»æœº**ã€‚

### é™·é˜±ï¼šå¤‡ä»½ä¸­çš„å¯†é’¥

`$krabkrab_STATE_DIR` åŒ…å«å¯†é’¥ï¼ˆAPI å¯†é’¥ã€OAuth ä»¤ç‰Œã€WhatsApp å‡­è¯ï¼‰ã€‚å°†å¤‡ä»½è§†ä¸ºç”Ÿäº§å¯†é’¥ï¼š

- åŠ å¯†å­˜å‚¨
- é¿å…é€šè¿‡ä¸å®‰å…¨çš„æ¸ é“å…±äº«
- å¦‚æžœæ€€ç–‘æ³„éœ²ï¼Œè½®æ¢å¯†é’¥

## éªŒè¯æ£€æŸ¥æ¸…å•

åœ¨æ–°æœºå™¨ä¸Šï¼Œç¡®è®¤ï¼š

- `krabkrab status` æ˜¾ç¤º Gateway ç½‘å…³æ­£åœ¨è¿è¡Œ
- ä½ çš„æ¸ é“ä»ç„¶è¿žæŽ¥ï¼ˆä¾‹å¦‚ WhatsApp ä¸éœ€è¦é‡æ–°é…å¯¹ï¼‰
- ä»ªè¡¨æ¿æ‰“å¼€å¹¶æ˜¾ç¤ºçŽ°æœ‰ä¼šè¯
- ä½ çš„å·¥ä½œåŒºæ–‡ä»¶ï¼ˆè®°å¿†ã€é…ç½®ï¼‰å­˜åœ¨

## ç›¸å…³å†…å®¹

- [Doctor](/gateway/doctor)
- [Gateway ç½‘å…³æ•…éšœæŽ’é™¤](/gateway/troubleshooting)
- [KrabKrab åœ¨å“ªé‡Œå­˜å‚¨æ•°æ®ï¼Ÿ](/help/faq#where-does-krabkrab-store-its-data)

